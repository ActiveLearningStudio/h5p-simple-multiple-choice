{"version":3,"sources":["webpack:///../dist/dist.js","webpack:///webpack/bootstrap 8648f554f3c47685683f?bcfe","webpack:///./src/entries/dist.js","webpack:///./src/scripts/simple-multiple-choice.js?c616","webpack:///./src/scripts/xapiGenerator.js?c3d4"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","H5P","SimpleMultiChoice","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","_xapiGenerator","_xapiGenerator2","instanceId","_H5P$EventDispatcher","params","undefined","this","_this","getPrototypeOf","uniqueName","state","alternatives","map","alt","text","checked","xapiGenerator","attach","$wrapper","element","document","createElement","className","question","createQuestion","appendChild","altList","createAlternativesList","get","textContent","handleInputChange","inputIndex","_this2","j","inputType","xApiTemplate","createXAPIEventTemplate","xApiEvent","generateXApi","trigger","_this3","forEach","listItem","label","input","type","name","addEventListener","bind","innerHTML","EventDispatcher","_createClass","defineProperties","props","descriptor","protoProps","staticProps","xApiGenerator","choices","description","en-US","event","interactionType","response","reduce","pattern","statement","data","result","object","definition"],"mappings":"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","file":"../dist/dist.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// Load library\n\tH5P.SimpleMultiChoice = __webpack_require__(1).default;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _xapiGenerator = __webpack_require__(2);\n\t\n\tvar _xapiGenerator2 = _interopRequireDefault(_xapiGenerator);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar instanceId = 0;\n\t\n\tvar SimpleMultiChoice = function (_H5P$EventDispatcher) {\n\t  _inherits(SimpleMultiChoice, _H5P$EventDispatcher);\n\t\n\t  /**\r\n\t   * Constructor for Simple Multiple Choice\r\n\t   * @param {Object} params\r\n\t   * @param {string} params.question Question text\r\n\t   * @param {string} params.inputType Checkbox or radio\r\n\t   * @param {Array} params.alternatives Array of strings with answers alternatives\r\n\t   * @param {number} contentId\r\n\t   */\n\t  function SimpleMultiChoice(params) {\n\t    var contentId = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\t\n\t    _classCallCheck(this, SimpleMultiChoice);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(SimpleMultiChoice).call(this));\n\t\n\t    _this.params = params;\n\t\n\t    // Provide a unique identifier for each multi choice\n\t    _this.uniqueName = 'h5p-simple-multiple-choice-' + instanceId;\n\t    instanceId += 1;\n\t\n\t    // Keep track of the state\n\t    _this.state = _this.params.alternatives.map(function (alt, i) {\n\t      return {\n\t        id: i,\n\t        text: alt,\n\t        checked: false\n\t      };\n\t    });\n\t\n\t    _this.xapiGenerator = new _xapiGenerator2.default(params);\n\t\n\t    /**\r\n\t     * Attach library to wrapper\r\n\t     * @param {jQuery} $wrapper\r\n\t     */\n\t    _this.attach = function ($wrapper) {\n\t      var element = document.createElement('div');\n\t      element.className = 'h5p-simple-multiple-choice';\n\t      var question = this.createQuestion();\n\t      question.className = 'h5p-simple-multiple-choice-question';\n\t      element.appendChild(question);\n\t\n\t      var altList = this.createAlternativesList(this.params.alternatives);\n\t      element.appendChild(altList);\n\t\n\t      $wrapper.get(0).appendChild(element);\n\t    };\n\t\n\t    /**\r\n\t     * Create html for multiple choice\r\n\t     * @return {HTMLElement} html for multiple choice\r\n\t     */\n\t    _this.createQuestion = function () {\n\t      var question = document.createElement('div');\n\t      question.textContent = this.params.question;\n\t      return question;\n\t    };\n\t\n\t    /**\r\n\t     * Handle input changed, trigger event for listeners\r\n\t     * @param {number} inputIndex Index of input element that changed\r\n\t     */\n\t    _this.handleInputChange = function (inputIndex) {\n\t      var _this2 = this;\n\t\n\t      this.state = this.state.map(function (alt, j) {\n\t        var checked = j === inputIndex;\n\t        if (_this2.params.inputType !== 'radio') {\n\t          checked = j === inputIndex ? !alt.checked : alt.checked;\n\t        }\n\t\n\t        // Immutable state\n\t        return _extends({}, alt, {\n\t          checked: checked\n\t        });\n\t      });\n\t\n\t      var xApiTemplate = this.createXAPIEventTemplate('interacted');\n\t      var xApiEvent = this.xapiGenerator.generateXApi(xApiTemplate, this.state);\n\t      this.trigger('xAPIchanged', xApiEvent);\n\t    };\n\t\n\t    /**\r\n\t     * Create alternatives for multiple choice\r\n\t     * @param {Array.<string>} alternatives Answer alternatives\r\n\t     * @return {HTMLElement} html for alternatives list items\r\n\t     */\n\t    _this.createAlternativesList = function (alternatives) {\n\t      var _this3 = this;\n\t\n\t      var altList = document.createElement('ul');\n\t      altList.className = 'h5p-simple-multiple-choice-alternatives';\n\t      alternatives.forEach(function (alt, i) {\n\t\n\t        // Elements\n\t        var listItem = document.createElement('li');\n\t        var label = document.createElement('label');\n\t        var input = document.createElement('input');\n\t\n\t        // Input attributes\n\t        input.type = _this3.params.inputType || 'checkbox';\n\t        input.name = _this3.uniqueName;\n\t\n\t        // Label attributes\n\t        label.addEventListener('change', _this3.handleInputChange.bind(_this3, i));\n\t        label.appendChild(input);\n\t        label.innerHTML += alt;\n\t\n\t        listItem.appendChild(label);\n\t        altList.appendChild(listItem);\n\t      });\n\t\n\t      return altList;\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  return SimpleMultiChoice;\n\t}(H5P.EventDispatcher);\n\t\n\texports.default = SimpleMultiChoice;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar xApiGenerator = function () {\n\t  function xApiGenerator(params) {\n\t    _classCallCheck(this, xApiGenerator);\n\t\n\t    var question = params.question;\n\t    var alternatives = params.alternatives;\n\t\n\t\n\t    var choices = alternatives.map(function (alt, i) {\n\t      return {\n\t        id: i,\n\t        description: {\n\t          'en-US': alt\n\t        }\n\t      };\n\t    });\n\t\n\t    // Set up default response object\n\t    this.event = {\n\t      description: {\n\t        'en-US': question // We don't actually know the language of the question\n\t      },\n\t      type: 'http://adlnet.gov/expapi/activities/cmi.interaction',\n\t      interactionType: 'choice',\n\t      choices: choices\n\t    };\n\t  }\n\t\n\t  _createClass(xApiGenerator, [{\n\t    key: 'generateXApi',\n\t    value: function generateXApi(xApiTemplate, state) {\n\t      var response = state.reduce(function (pattern, alt, i) {\n\t        if (alt.checked) {\n\t          pattern += (pattern.length ? '[,]' : '') + i;\n\t        }\n\t        return pattern;\n\t      }, '');\n\t\n\t      var statement = xApiTemplate.data.statement;\n\t      _extends(statement, {\n\t        result: {\n\t          response: response\n\t        }\n\t      });\n\t\n\t      if (statement.object) {\n\t        var definition = statement.object.definition;\n\t        _extends(definition, this.event);\n\t      }\n\t\n\t      return xApiTemplate;\n\t    }\n\t  }]);\n\t\n\t  return xApiGenerator;\n\t}();\n\t\n\texports.default = xApiGenerator;\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** ../dist/dist.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8648f554f3c47685683f\n **/","// Load library\nH5P.SimpleMultiChoice = require('../scripts/simple-multiple-choice').default;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entries/dist.js\n **/","import xApiGenerator from './xapiGenerator';\r\nlet instanceId = 0;\r\n\r\nexport default class SimpleMultiChoice extends H5P.EventDispatcher {\r\n\r\n  /**\r\n   * Constructor for Simple Multiple Choice\r\n   * @param {Object} params\r\n   * @param {string} params.question Question text\r\n   * @param {string} params.inputType Checkbox or radio\r\n   * @param {Array} params.alternatives Array of strings with answers alternatives\r\n   * @param {number} contentId\r\n   */\r\n  constructor(params, contentId = null) {\r\n    super();\r\n    this.params = params;\r\n\r\n    // Provide a unique identifier for each multi choice\r\n    this.uniqueName = 'h5p-simple-multiple-choice-' + instanceId;\r\n    instanceId += 1;\r\n\r\n    // Keep track of the state\r\n    this.state = this.params.alternatives.map((alt, i) => {\r\n      return {\r\n        id: i,\r\n        text: alt,\r\n        checked: false\r\n      }\r\n    });\r\n\r\n    this.xapiGenerator = new xApiGenerator(params);\r\n\r\n    /**\r\n     * Attach library to wrapper\r\n     * @param {jQuery} $wrapper\r\n     */\r\n    this.attach = function($wrapper) {\r\n      const element = document.createElement('div');\r\n      element.className = 'h5p-simple-multiple-choice';\r\n      const question = this.createQuestion();\r\n      question.className = 'h5p-simple-multiple-choice-question';\r\n      element.appendChild(question);\r\n\r\n      const altList = this.createAlternativesList(this.params.alternatives);\r\n      element.appendChild(altList);\r\n\r\n      $wrapper.get(0).appendChild(element);\r\n    };\r\n\r\n    /**\r\n     * Create html for multiple choice\r\n     * @return {HTMLElement} html for multiple choice\r\n     */\r\n    this.createQuestion = function() {\r\n      const question = document.createElement('div');\r\n      question.textContent = this.params.question;\r\n      return question;\r\n    };\r\n\r\n    /**\r\n     * Handle input changed, trigger event for listeners\r\n     * @param {number} inputIndex Index of input element that changed\r\n     */\r\n    this.handleInputChange = function(inputIndex) {\r\n      this.state = this.state.map((alt, j) => {\r\n        let checked = j === inputIndex;\r\n        if (this.params.inputType !== 'radio') {\r\n          checked = j === inputIndex ? !alt.checked : alt.checked;\r\n        }\r\n\r\n        // Immutable state\r\n        return Object.assign({}, alt, {\r\n          checked: checked\r\n        });\r\n      });\r\n\r\n      let xApiTemplate = this.createXAPIEventTemplate('interacted');\r\n      const xApiEvent = this.xapiGenerator.generateXApi(xApiTemplate, this.state);\r\n      this.trigger('xAPIchanged', xApiEvent);\r\n    };\r\n\r\n    /**\r\n     * Create alternatives for multiple choice\r\n     * @param {Array.<string>} alternatives Answer alternatives\r\n     * @return {HTMLElement} html for alternatives list items\r\n     */\r\n    this.createAlternativesList = function (alternatives) {\r\n      const altList = document.createElement('ul');\r\n      altList.className = 'h5p-simple-multiple-choice-alternatives';\r\n      alternatives.forEach((alt, i) => {\r\n\r\n        // Elements\r\n        const listItem = document.createElement('li');\r\n        const label = document.createElement('label');\r\n        const input = document.createElement('input');\r\n\r\n        // Input attributes\r\n        input.type = this.params.inputType || 'checkbox';\r\n        input.name = this.uniqueName;\r\n\r\n        // Label attributes\r\n        label.addEventListener('change', this.handleInputChange.bind(this, i));\r\n        label.appendChild(input);\r\n        label.innerHTML += alt;\r\n\r\n        listItem.appendChild(label);\r\n        altList.appendChild(listItem);\r\n      });\r\n\r\n      return altList;\r\n    };\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/simple-multiple-choice.js\n **/","export default class xApiGenerator {\n  constructor(params) {\n    const {\n      question,\n      alternatives\n    } = params;\n\n    const choices = alternatives.map((alt, i) => {\n      return {\n        id: i,\n        description: {\n          'en-US': alt\n        }\n      }\n    });\n\n    // Set up default response object\n    this.event = {\n      description: {\n        'en-US': question // We don't actually know the language of the question\n      },\n      type: 'http://adlnet.gov/expapi/activities/cmi.interaction',\n      interactionType: 'choice',\n      choices: choices\n    };\n  }\n\n  generateXApi(xApiTemplate, state) {\n    const response = state.reduce((pattern, alt, i) => {\n      if (alt.checked) {\n        pattern += (pattern.length ? '[,]' : '') + i;\n      }\n      return pattern;\n    }, '');\n\n    const statement = xApiTemplate.data.statement;\n    Object.assign(statement, {\n      result: {\n        response\n      }\n    });\n\n    if (statement.object) {\n      const definition = statement.object.definition;\n      Object.assign(definition, this.event);\n    }\n\n    return xApiTemplate;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/xapiGenerator.js\n **/"],"sourceRoot":""}